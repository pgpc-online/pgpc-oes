<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>{{ title if title else "Admin Panel" }}</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', sans-serif; }
    body { background:#f4f6fa; display:flex; min-height:100vh; }

    /* SIDEBAR */
    .sidebar {
        width:240px;
        background:#1a237e;
        color:white;
        padding:20px;
        position:fixed;
        height:100vh;
        top:0; left:0;
        box-shadow: 4px 0 15px rgba(0,0,0,0.15);
    }
    .sidebar h2 {
        font-size:22px;
        margin-bottom:30px;
        letter-spacing:1px;
    }

    .nav-item {
        display:flex;
        align-items:center;
        gap:12px;
        padding:10px 14px;
        margin-bottom:10px;
        text-decoration:none;
        color:white;
        border-radius:8px;
        transition:0.2s;
        font-size:15px;
    }
    .nav-item:hover,
    .nav-item.active {
        background:rgba(255,255,255,0.18);
    }

    /* MAIN */
    .main {
        margin-left:240px;
        padding:30px;
        width:calc(100% - 240px);
    }

    .page-title {
        font-size:26px;
        font-weight:700;
        margin-bottom:20px;
        color:#1a237e;
    }
    #toast-container {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 9999;
}

.toast {
    padding: 12px 18px;
    margin-bottom: 10px;
    border-radius: 6px;
    color: white;
    font-size: 14px;
    animation: fadein 0.5s, fadeout 0.5s 3s;
}

.toast.success { background: #28a745; }
.toast.error { background: #e53935; }
.toast.info { background: #1e88e5; }

@keyframes fadein {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1;   transform: translateY(0); }
}

@keyframes fadeout {
  from { opacity: 1;   transform: translateY(0); }
  to   { opacity: 0;   transform: translateY(-10px); }
}

.flash {
    padding: 12px 18px;
    border-radius: 10px;
    margin-bottom: 15px;
    animation: fadeOut1 3s ease-out forwards;
}

@keyframes fadeOut1 {
    0%   { opacity: 1; }
    70%  { opacity: 1; }
    100% { opacity: 0; display: none; }
}
.dark-mode {
    background-color: #0e141f !important;
    color: #d7e7ff !important;
}

/* Cards, tables, modal */
.dark-mode .table-wrapper,
.dark-mode .card,
.dark-mode table,
.dark-mode .modal-content,
.dark-mode .settings-card {
    background: #16212f !important;
    color: #d7e7ff !important;
    border-color: #243245 !important;
}

/* Sidebar */
.dark-mode .sidebar {
    background-color: #0c1624 !important;
}

.dark-mode .sidebar a {
    color: #d0e1ff !important;
}

.dark-mode .sidebar a.active,
.dark-mode .sidebar a:hover {
    background: rgba(90,144,255,0.25) !important;
}

/* ===========================
   TEXT COLORS / TITLES
   =========================== */
.dark-mode .page-title {
    color: #6fb3ff !important;  /* neon blue highlight */
}

/* ===========================
   INPUTS
   =========================== */
.dark-mode input,
.dark-mode select,
.dark-mode textarea {
    background: #1b2738 !important;
    color: #d7e7ff !important;
    border-color: #2f425d !important;
}

/* Search bars, filters */
.dark-mode .filter-input,
.dark-mode .filter-select,
.dark-mode .search-input {
    background: #1b2738 !important;
    color: #d7e7ff !important;
    border-color: #2f425d !important;
}

/* ===========================
   TABLE HEADER
   =========================== */
.dark-mode thead {
    background: linear-gradient(to right, #1a2d45, #0f1c2e) !important;
    color: #96c4ff !important;
}

/* Table rows */
.dark-mode tr:hover {
    background: rgba(80,130,255,0.07) !important;
}

/* ===========================
   BUTTONS
   =========================== */

/* General buttons */
.dark-mode .btn,
.dark-mode button,
.dark-mode .btn-primary {
    background: #254d9b !important;
    color: #e6efff !important;
    border: none !important;
}

.dark-mode .btn:hover,
.dark-mode button:hover,
.dark-mode .btn-primary:hover {
    background: #3968c7 !important;
}

/* Search button */
.dark-mode .btn-search {
    background: #2d5dc4 !important;
    color: white !important;
}

.dark-mode .btn-search:hover {
    background: #3c79f0 !important;
}

/* Kebab dropdown menu */
.dark-mode .menu-dropdown {
    background: #15202e !important;
    border: 1px solid #253348 !important;
}

.dark-mode .menu-dropdown button {
    color: #d7e7ff !important;
}

.dark-mode .menu-dropdown button:hover {
    background: rgba(120,170,255,0.12) !important;
}

/* ===========================
   BADGES
   =========================== */
.dark-mode .badge-gray   { background:#54667a !important; }
.dark-mode .badge-blue   { background:#357aff !important; }
.dark-mode .badge-green  { background:#2e8f5a !important; }
.dark-mode .badge-orange { background:#ff9533 !important; }
.dark-mode .badge-red    { background:#d84848 !important; }
.dark-mode .badge-purple { background:#8c6bff !important; }

/* ===========================
   MESSAGES BOX
   =========================== */
.dark-mode .messages-box,
.dark-mode .list,
.dark-mode .item {
    background: #16212f !important;
    border-color: #243245 !important;
    color: #d7e7ff !important;
}

/* ===========================
   TOASTS / FLASH MESSAGES
   =========================== */
.dark-mode .toast {
    background: #1e2b40 !important;
    color: #d7e7ff !important;
    border-left: 4px solid #4f8fff !important;
}
html, body, .sidebar, .main, .card, .table-wrapper {
    transition: background 0.25s ease, color 0.25s ease;
}
</style>

{% block head %}{% endblock %}
</head>

<body>
  <!-- {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-container">
            {% for category, msg in messages %}
                <div class="flash flash-{{ category }}">{{ msg }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}
    {% for message in get_flashed_messages(with_categories=true) %}
    <div class="flash-message alert alert-{{ message[0] }}">
        {{ message[1] }}
    </div>
{% endfor %} -->




<!-- SIDEBAR -->
<div class="sidebar">
    <h2>Admin Panel</h2>

    <a href="{{ url_for('admin_dashboard') }}"
       class="nav-item {% if active_page=='dashboard' %}active{% endif %}">
       <i class="fa-solid fa-gauge"></i> Dashboard
    </a>

    <a href="{{ url_for('manage_students') }}"
       class="nav-item {% if active_page=='users' %}active{% endif %}">
       <i class="fa-solid fa-users"></i> Manage Students
    </a>

    <a href="{{ url_for('admin_exam_schedule') }}" 
   class="nav-item {% if active_page == 'exam_schedule' %}active{% endif %}">
   <i class="fa-solid fa-calendar-check"></i>Exam Schedule
    </a>


    <a href="{{ url_for('admin_all_messages') }}"
       class="nav-item {% if active_page=='messages' %}active{% endif %}">
       <i class="fa-solid fa-envelope"></i> Messages
    </a>
  
    <a href="{{ url_for('admin_settings') }}" class="nav-item">
        <i class="fa-solid fa-gear"></i> Settings
    </a>

    <a href="{{ url_for('admin_logout') }}" class="nav-item">
       <i class="fa-solid fa-right-from-bracket"></i> Logout
    </a>
</div>

<!-- MAIN CONTENT -->
<div class="main">
    {% block content %}{% endblock %}
</div>

{% block scripts %}
<!-- <script>
setTimeout(() => {
    document.querySelectorAll('.flash').forEach(el => {
        el.style.opacity = "0";
    });
}, 2500); -->
<!-- </script> -->
 <script>
// Apply saved theme on every admin page
if (localStorage.getItem("theme") === "dark") {
    document.documentElement.classList.add("dark-mode");
    document.body.classList.add("dark-mode");
}
</script>

{% endblock %}
</body>
</html>
